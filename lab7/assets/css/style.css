*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.5;color:#0e161b;background:#f6f7fb}
.wrap{max-width:1200px;margin:0 auto;padding:24px}
.header{display:flex;align-items:center;justify-content:space-between;padding:16px 0;gap:12px}
.header h1{margin:0}
.header p{margin:0;color:#4b5563}
.grid{display:grid;grid-template-areas:"b1 b1 b1" "b2 b3 b4" "b5 b3 b4" "b6 b6 b4";grid-template-columns:1fr 1.4fr 1fr;gap:16px}
.card{background:#fff;border:1px solid #e3e8ef;border-radius:10px;padding:16px;box-shadow:0 4px 12px rgba(0,0,0,.04)}
.header{grid-area:b1;background:#dbeafe}
.block-2{grid-area:b2;background:#f6e7da}
.block-3{grid-area:b3}
.block-4{grid-area:b4;background:#f6e7da}
.block-5{grid-area:b5;background:#e7f0df}
.footer{grid-area:b6;background:#dbeafe}
.block h2,.block h3{margin:0 0 8px}
.block p{margin:0 0 8px}
.block-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
.btn{appearance:none;border:1px solid #cbd5e1;background:#f7fafc;padding:8px 14px;border-radius:8px;cursor:pointer;font-weight:600;color:#0b1626;transition:background .2s ease,transform .2s ease}
.btn:hover{background:#edf2ff;transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.primary{background:#2e6cfd;color:#fff;border-color:#2e6cfd}
.actions{display:flex;align-items:center;gap:12px;margin:12px 0}
.tag{display:inline-flex;align-items:center;justify-content:center;min-width:32px;height:28px;padding:0 10px;border-radius:6px;background:#0f172a;color:#fff;font-weight:700;letter-spacing:.4px}
.meta-list{margin:0;padding-left:18px;color:#374151}
.results{margin-top:12px;border:1px solid #e5edf7;border-radius:10px;overflow:hidden;background:#f8fafc}
.table-wrap{overflow:auto}
.results table{border-collapse:collapse;width:100%;min-width:640px}
.results th,.results td{padding:10px;border-bottom:1px solid #e5edf7;text-align:left;font-size:14px;vertical-align:top}
.results th{background:#eef3fb;font-weight:700}
.results tr:nth-child(even) td{background:#fdfefe}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px;padding:12px;background:#fff;border-top:1px solid #e5edf7}
.stat-label{margin:0;color:#4b5563;font-size:13px}
.stat-value{margin:0;font-weight:700}
.summary{margin-top:10px;padding:10px 12px;border-radius:8px;background:#fff;border:1px solid #e5edf7}
.hint{color:#6b7280;font-size:14px}

.work{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(14,22,27,.35);z-index:20;padding:12px}
.work.visible{display:flex}
.work .sheet{position:relative;width:60vw;height:80vh;min-width:720px;min-height:420px;max-width:1100px;max-height:820px;background:#eef4ff;border-radius:12px;box-shadow:0 16px 40px rgba(0,0,0,.35);overflow:hidden}
.work .controls{position:absolute;left:0;right:0;top:0;height:50px;display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:rgba(255,255,255,.85);backdrop-filter:blur(4px);gap:10px}
.work .messages{flex:1 1 auto;font-size:14px;color:#0b1626;line-height:1.3;max-height:46px;overflow:auto}
.work .buttons{display:flex;gap:8px}
.work .anim{position:absolute;left:0;bottom:0;width:calc(100% - 10px);height:calc(100% - 50px);border:5px solid #e53935;background:#fff;overflow:hidden;display:flex;align-items:stretch;justify-content:stretch}
.work .field{position:relative;flex:1;background:url('../img/tile.svg') 0 0/32px 32px repeat}
.ball{position:absolute;width:20px;height:20px;border-radius:50%;background:#ffd33d;box-shadow:0 0 0 2px rgba(0,0,0,.1) inset}

@media (max-width:960px){
  .grid{grid-template-areas:"b1" "b2" "b4" "b3" "b5" "b6";grid-template-columns:1fr}
  .work .sheet{width:90vw;height:70vh;min-width:0;min-height:0}
  .results table{min-width:0}
}
